(()=>{const e="affbb1c4b60c4e5b96451606232203",t="https://api.weatherapi.com/v1/current.json?key=",n="https://api.weatherapi.com/v1/forecast.json?key=",o=document.querySelector(".cityName"),s=document.querySelector(".description"),a=document.querySelector(".tempC"),c=document.querySelector(".tempF"),r=document.querySelector(".wind"),i=document.createElement("img");i.classList.add("icon");const l=document.querySelector(".feelslike"),m=document.querySelector(".humidity"),d=document.querySelector(".rainChance"),u=document.querySelector(".temp-high"),p=document.querySelector(".temp-low"),h=(document.getElementById("search-button"),document.getElementById("search-form"));function y(n){fetch(t+e+"&q="+n).then((e=>e.json())).then((e=>function(e){console.log(e);const{name:t}=e.location,{text:n,icon:d}=e.current.condition,{temp_c:u,temp_f:p,humidity:h,feelslike_c:y,feelslike_f:f}=e.current,{wind_kph:g}=e.current;o.textContent=t,s.textContent=n,a.innerHTML="<h2><span class='material-symbols-outlined'>thermometer</span> "+u+"&deg; c</h2>",c.innerHTML="<h3><span class='material-symbols-outlined'>thermometer</span> "+p+"&deg; f</h3>",r.innerHTML="<p>Wind speed</p><h3><span class='material-symbols-outlined'>air</span> "+g+"</h3>",i.setAttribute("src","http://"+d),s.appendChild(i),l.innerHTML="<p>Feels like </p><h3>"+y+"&deg; c<br /> "+f+"&deg; f</h3>",m.innerHTML="<p>Humidity </p><h3><span class='material-symbols-outlined'>humidity_percentage</span>"+h+"</h3>"}(e)))}function f(t){fetch(n+e+"&q="+t).then((e=>e.json())).then((e=>function(e){console.log(e);const{daily_chance_of_rain:t,maxtemp_c:n,maxtemp_f:o,mintemp_c:s,mintemp_f:a}=e.forecast.forecastday[0].day;console.log("rain: "+t),d.innerHTML="<p>Chance of rain </p><h3><span class='material-symbols-outlined'>rainy</span> "+t+"</h3>",u.innerHTML="<h3><span class='material-symbols-outlined'>thermometer_gain</span> "+n+"&deg;c <span class='material-symbols-outlined'>thermometer_loss</span> "+s+"&deg;c</h3>",p.innerHTML="<h3><span class='material-symbols-outlined'>thermometer_gain</span> "+o+"&deg;f, <span class='material-symbols-outlined'>thermometer_loss</span> "+a+"&deg;f</h3>"}(e)))}window.addEventListener("load",(()=>{y("Windsor"),f("Windsor"),h.addEventListener("submit",(e=>{e.preventDefault();const t=document.getElementById("city-search");y(t.value),f(t.value)}))}))})();